(function(t){function e(e){for(var a,r,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)r=s[d],i[r]&&p.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0de8":function(t,e,n){},"23d1":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),i=n.n(a);i.a},"5e27":function(t,e,n){},6450:function(t,e,n){},"65f2":function(t,e,n){"use strict";var a=n("6450"),i=n.n(a);i.a},b087:function(t,e,n){"use strict";var a=n("0de8"),i=n.n(a);i.a},c39c:function(t,e,n){"use strict";var a=n("23d1"),i=n.n(a);i.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],r=(n("5c0b"),n("2877")),s={},l=Object(r["a"])(s,i,o,!1,null,null,null),c=l.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"top"},t._l(t.navs,function(e){return n("div",{key:e.name,staticClass:"top-nav",class:{"nav-active":e.name===t.$route.name},staticStyle:{cursor:"pointer"},on:{click:function(n){return t.$router.push(e.path)}}},[n("i",{class:e.meta.icon}),t._v(" "+t._s(e.meta.name)+"\n    ")])}),0),n("div",{staticClass:"content"},[n("div",{staticClass:"left"},t._l(t.navs,function(e){return n("div",{key:e.name,staticClass:"left-nav",class:{"left-nav-active":e.name===t.$route.name},on:{click:function(n){return t.$router.push(e.path)}}},[n("i",{class:e.meta.icon})])}),0),n("div",{staticClass:"right"},[n("el-breadcrumb",{staticClass:"bread",attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("主页")]),n("el-breadcrumb-item",[t._v(t._s(t.$route.meta.name))])],1),n("div",{staticStyle:{width:"100%",height:"100%",padding:"10px","box-sizing":"border-box"}},[n("router-view",{staticStyle:{width:"100%",height:"100%","box-sizing":"border-box"}})],1)],1)])])},p=[],f=n("d225"),h=n("b0b4"),g=n("308d"),v=n("6bb5"),b=n("4e2b"),m=n("9ab4"),y=n("60a3"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pic",attrs:{"element-loading-text":"视频分析中","element-loading-spinner":"el-icon-loading"}},[t.progress?n("div",{staticStyle:{position:"absolute",width:"100%",height:"100%","background-color":"rgba(255, 255, 255, 0.8)"}},[n("el-progress",{staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"300px"},attrs:{percentage:t.percentage}})],1):t._e(),t._m(0),n("div",{staticStyle:{flex:"1",display:"flex","flex-direction":"column","padding-left":"30px"}},[n("div",{staticStyle:{display:"flex"}},[n("el-upload",{ref:"upload",staticClass:"avatar-uploader",staticStyle:{width:"700px",height:"200px"},attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"auto-upload":!1},nativeOn:{change:function(e){return t.changeNative(e)}}},[n("i",{staticClass:"avatar-uploader-icon el-icon-upload",staticStyle:{border:"1px dashed #d9d9d9",color:"#85ce61","font-size":"80px",width:"700px",height:"200px","border-radius":"10px"}})]),n("div",{staticStyle:{display:"flex","justify-content":"flex-start","margin-left":"20px","margin-right":"30px",height:"200px","flex-direction":"column"}},[n("el-button",{staticStyle:{"margin-bottom":"30px"},attrs:{loading:t.uploadLoding,size:"small",type:t.uploadBtn},on:{click:t.submitUpload}},[t._v("上传检测")]),n("el-button",{staticStyle:{"margin-left":"0px"},attrs:{loading:t.uploadLoding,type:"danger",size:"small"},on:{click:t.clearAll}},[t._v("清空检测")])],1)],1),n("div",{staticStyle:{width:"100%","border-bottom":"1px solid #ccc","margin-top":"10px","margin-bottom":"10px"}}),t.resultList.length?n("div",{staticStyle:{flex:"1",display:"flex","margin-top":"30px","flex-wrap":"wrap",overflow:"auto"}},t._l(t.resultList[0].result,function(e,a){return n("div",{key:a,staticStyle:{display:"flex","flex-direction":"column",padding:"5px"},on:{click:function(n){return t.showResult(e)}}},[n("div",{staticStyle:{width:"300px",height:"200px"}},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.url,alt:""}})]),n("div",{staticStyle:{display:"flex",width:"300px","flex-wrap":"wrap"}},[n("div",{staticStyle:{"font-weight":"bold"}},[t._v("报警类型：")]),n("div",[t._v(t._s(e.alarmType))])])])}),0):t._e()]),n("record-detail",{ref:"recordDetail"})],1)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{background:"white"}},[n("div",{staticStyle:{"border-left":"10px solid #67C23A",padding:"10px",margin:"10px","font-size":"14px","border-bottom":"1px solid #ccc"}},[t._v("\n      视频分析\n    ")])])}],O=(n("6d67"),n("7f7f"),n("7514"),n("96cf"),n("3b8d")),S=n("1f14"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"图片详情",visible:t.dialogVisible,width:"800px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{flex:"1",padding:"10px",height:"400px"}},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.detectionResult.url,alt:"",width:"100%;"}})])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("关 闭")])],1)])},_=[],j=function(t){function e(){var t;return Object(f["a"])(this,e),t=Object(g["a"])(this,Object(v["a"])(e).apply(this,arguments)),t.detectionResult={},t.dialogVisible=!1,t}return Object(b["a"])(e,t),Object(h["a"])(e,[{key:"show",value:function(t){this.dialogVisible=!0,this.detectionResult=t,console.log(this.detectionResult)}}]),e}(y["b"]);j=m["a"]([y["a"]],j);var D=j,$=D,C=(n("b087"),Object(r["a"])($,k,_,!1,null,"3e9d29e0",null)),P=C.exports,L=function(t){function e(){var t;return Object(f["a"])(this,e),t=Object(g["a"])(this,Object(v["a"])(e).apply(this,arguments)),t.svgOptions={},t.fileList=[],t.files=[],t.imgSrc="",t.uploadLoding=!1,t.detectionResult={},t.resultImg="",t.secondSelect=!1,t.uploadBtn="info",t.intrusionStyle=!0,t.resultList=[],t.loading=!1,t.progress=!1,t.percentage=1,t.beginPercentage=1,t.uploadData={confidence:.8,nms:.4,type:"attitude",region:""},t}return Object(b["a"])(e,t),Object(h["a"])(e,[{key:"mounted",value:function(){this.uploadData&&this.uploadData.hasOwnProperty("confidence")&&delete this.uploadData.confidence,this.uploadData&&this.uploadData.hasOwnProperty("nms")&&delete this.uploadData.nms,this.uploadData&&this.uploadData.hasOwnProperty("region")&&delete this.uploadData.region}},{key:"submitUpload",value:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i,o,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$refs.upload.uploadFiles,e.length){t.next=4;break}return this.$message({message:"请选择文件后上传",type:"warning"}),t.abrupt("return");case 4:if(n=[this.$refs.upload.uploadFiles.pop()],a=window.EcvAlarmData.data.find(function(t){return t.filename===n[0].name}),a){t.next=10;break}return console.log("文件上传出错"),this.$message({type:"error",message:"文件上传出错"}),t.abrupt("return");case 10:i=0,this.progress=!0,o=setInterval(function(){i++,r.percentage=i*r.beginPercentage>100?100:i*r.beginPercentage,i>100&&(window.clearInterval(o),r.progress=!1,r.resultList=[a],r.percentage=1,r.uploadBtn="info")},100);case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"originToCommon",value:function(t){return t.map(function(t){return{location:t.data,rule_id:t.id}})}},{key:"clearAll",value:function(){this.fileList=[],this.imgSrc="",this.$refs.egpSvg&&this.$refs.egpSvg.setData([]),this.resultList=[],this.uploadBtn="info"}},{key:"uploadChange",value:function(t,e){}},{key:"uploadSuccess",value:function(t,e,n){}},{key:"uploadError",value:function(t,e,n){}},{key:"clearData",value:function(){}},{key:"showResult",value:function(t){var e=this;this.$nextTick(function(){e.$refs.recordDetail.show(t)})}},{key:"nativeUploadChange",value:function(t){}},{key:"selectChange",value:function(t){var e=this;"intrusion"===t?(this.intrusionStyle=!1,this.$nextTick(function(){e.svgOptions={type:"polygon",name:t,color:"red"},e.uploadData={confidence:.8,nms:.4,type:"intrusion",region:""}}),console.log(this.uploadData,"uploadData",this.svgOptions)):(this.$refs.egpSvg&&this.$refs.egpSvg.setData([]),this.svgOptions={},this.intrusionStyle=!0,this.uploadData&&this.uploadData.hasOwnProperty("confidence")&&delete this.uploadData.confidence,this.uploadData&&this.uploadData.hasOwnProperty("nms")&&delete this.uploadData.nms,this.uploadData&&this.uploadData.hasOwnProperty("region")&&delete this.uploadData.region)}},{key:"clerarAll",value:function(){this.$refs.upload.uploadFiles=[]}},{key:"changeNative",value:function(){this.$refs.upload.uploadFiles.length&&(this.uploadBtn="success")}}]),e}(y["b"]);L=m["a"]([Object(y["a"])({components:{EgpSvg:S["a"],recordDetail:P}})],L);var E=L,R=E,A=(n("c39c"),Object(r["a"])(R,x,w,!1,null,"76970d7e",null)),z=A.exports,T=function(t){function e(){var t;return Object(f["a"])(this,e),t=Object(g["a"])(this,Object(v["a"])(e).apply(this,arguments)),t.navs=[],t}return Object(b["a"])(e,t),Object(h["a"])(e,[{key:"mounted",value:function(){this.navs=M[0].children}}]),e}(y["b"]);T=m["a"]([Object(y["a"])({components:{PictureDetection:z}})],T);var B=T,F=B,N=(n("65f2"),Object(r["a"])(F,d,p,!1,null,"83b97ba8",null)),V=N.exports;a["default"].use(u["a"]);var M=[{path:"/",name:"home",component:V,redirect:"/picture",children:[{path:"/picture",name:"picture",component:z,meta:{name:"视频分析",icon:"el-icon-setting"}}]}],I=new u["a"]({mode:"history",base:"/",routes:M}),U=n("2f62");a["default"].use(U["a"]);var J=new U["a"].Store({state:{},mutations:{},actions:{}}),q=n("9483");Object(q["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var G=n("e069"),H=n.n(G),K=n("5c96"),Q=n.n(K);n("0fae"),n("dcad");a["default"].use(H.a),a["default"].use(Q.a,{size:"mini"}),a["default"].config.productionTip=!1,new a["default"]({router:I,store:J,render:function(t){return t(c)}}).$mount("#app")}});
//# sourceMappingURL=app.206ea793.js.map